<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.2">
  <compounddef id="qrspec_8c" kind="file">
    <compoundname>qrspec.c</compoundname>
    <includes local="no">stdio.h</includes>
    <includes local="no">stdlib.h</includes>
    <includes local="no">string.h</includes>
    <includes local="no">errno.h</includes>
    <includes refid="qrspec_8h" local="yes">qrspec.h</includes>
    <incdepgraph>
      <node id="378">
        <label>stdlib.h</label>
      </node>
      <node id="380">
        <label>errno.h</label>
      </node>
      <node id="379">
        <label>string.h</label>
      </node>
      <node id="376">
        <label>qrspec.c</label>
        <link refid="qrspec.c"/>
        <childnode refid="377" relation="include">
        </childnode>
        <childnode refid="378" relation="include">
        </childnode>
        <childnode refid="379" relation="include">
        </childnode>
        <childnode refid="380" relation="include">
        </childnode>
        <childnode refid="381" relation="include">
        </childnode>
      </node>
      <node id="381">
        <label>qrspec.h</label>
        <link refid="qrspec_8h_source"/>
        <childnode refid="382" relation="include">
        </childnode>
      </node>
      <node id="382">
        <label>qrencode.h</label>
        <link refid="qrencode_8h_source"/>
      </node>
      <node id="377">
        <label>stdio.h</label>
      </node>
    </incdepgraph>
    <innerclass refid="struct_q_rspec___capacity" prot="public">QRspec_Capacity</innerclass>
      <sectiondef kind="var">
      <memberdef kind="variable" id="qrspec_8c_1a04cd3771e8e0bf65f199865b1a9ddeb6" prot="public" static="yes" mutable="no">
        <type>const <ref refid="struct_q_rspec___capacity" kindref="compound">QRspec_Capacity</ref></type>
        <definition>const QRspec_Capacity qrspecCapacity[QRSPEC_VERSION_MAX+1]</definition>
        <argsstring>[QRSPEC_VERSION_MAX+1]</argsstring>
        <name>qrspecCapacity</name>
        <initializer>= {
	{  0,    0, 0, {   0,    0,    0,    0}},
	{ 21,   26, 0, {   7,   10,   13,   17}}, 
	{ 25,   44, 7, {  10,   16,   22,   28}},
	{ 29,   70, 7, {  15,   26,   36,   44}},
	{ 33,  100, 7, {  20,   36,   52,   64}},
	{ 37,  134, 7, {  26,   48,   72,   88}}, 
	{ 41,  172, 7, {  36,   64,   96,  112}},
	{ 45,  196, 0, {  40,   72,  108,  130}},
	{ 49,  242, 0, {  48,   88,  132,  156}},
	{ 53,  292, 0, {  60,  110,  160,  192}},
	{ 57,  346, 0, {  72,  130,  192,  224}}, 
	{ 61,  404, 0, {  80,  150,  224,  264}},
	{ 65,  466, 0, {  96,  176,  260,  308}},
	{ 69,  532, 0, { 104,  198,  288,  352}},
	{ 73,  581, 3, { 120,  216,  320,  384}},
	{ 77,  655, 3, { 132,  240,  360,  432}}, 
	{ 81,  733, 3, { 144,  280,  408,  480}},
	{ 85,  815, 3, { 168,  308,  448,  532}},
	{ 89,  901, 3, { 180,  338,  504,  588}},
	{ 93,  991, 3, { 196,  364,  546,  650}},
	{ 97, 1085, 3, { 224,  416,  600,  700}}, 
	{101, 1156, 4, { 224,  442,  644,  750}},
	{105, 1258, 4, { 252,  476,  690,  816}},
	{109, 1364, 4, { 270,  504,  750,  900}},
	{113, 1474, 4, { 300,  560,  810,  960}},
	{117, 1588, 4, { 312,  588,  870, 1050}}, 
	{121, 1706, 4, { 336,  644,  952, 1110}},
	{125, 1828, 4, { 360,  700, 1020, 1200}},
	{129, 1921, 3, { 390,  728, 1050, 1260}},
	{133, 2051, 3, { 420,  784, 1140, 1350}},
	{137, 2185, 3, { 450,  812, 1200, 1440}}, 
	{141, 2323, 3, { 480,  868, 1290, 1530}},
	{145, 2465, 3, { 510,  924, 1350, 1620}},
	{149, 2611, 3, { 540,  980, 1440, 1710}},
	{153, 2761, 3, { 570, 1036, 1530, 1800}},
	{157, 2876, 0, { 570, 1064, 1590, 1890}}, 
	{161, 3034, 0, { 600, 1120, 1680, 1980}},
	{165, 3196, 0, { 630, 1204, 1770, 2100}},
	{169, 3362, 0, { 660, 1260, 1860, 2220}},
	{173, 3532, 0, { 720, 1316, 1950, 2310}},
	{177, 3706, 0, { 750, 1372, 2040, 2430}} 
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Table of the capacity of symbols See Table 1 (pp.13) and Table 12-16 (pp.30-36), JIS X0510:2004. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="93" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="51" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="qrspec_8c_1aa4ee1df2c6d479b3477ce03accf6829f" prot="public" static="yes" mutable="no">
        <type>const int</type>
        <definition>const int lengthTableBits[4][3]</definition>
        <argsstring>[4][3]</argsstring>
        <name>lengthTableBits</name>
        <initializer>= {
	{10, 12, 14},
	{ 9, 11, 13},
	{ 8, 16, 16},
	{ 8, 10, 12}
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="137" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="132" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="qrspec_8c_1a051683aa848e4e0417e030c687ea6798" prot="public" static="yes" mutable="no">
        <type>const int</type>
        <definition>const int eccTable[QRSPEC_VERSION_MAX+1][4][2]</definition>
        <argsstring>[QRSPEC_VERSION_MAX+1][4][2]</argsstring>
        <name>eccTable</name>
        <initializer>= {
	{{ 0,  0}, { 0,  0}, { 0,  0}, { 0,  0}},
	{{ 1,  0}, { 1,  0}, { 1,  0}, { 1,  0}}, 
	{{ 1,  0}, { 1,  0}, { 1,  0}, { 1,  0}},
	{{ 1,  0}, { 1,  0}, { 2,  0}, { 2,  0}},
	{{ 1,  0}, { 2,  0}, { 2,  0}, { 4,  0}},
	{{ 1,  0}, { 2,  0}, { 2,  2}, { 2,  2}}, 
	{{ 2,  0}, { 4,  0}, { 4,  0}, { 4,  0}},
	{{ 2,  0}, { 4,  0}, { 2,  4}, { 4,  1}},
	{{ 2,  0}, { 2,  2}, { 4,  2}, { 4,  2}},
	{{ 2,  0}, { 3,  2}, { 4,  4}, { 4,  4}},
	{{ 2,  2}, { 4,  1}, { 6,  2}, { 6,  2}}, 
	{{ 4,  0}, { 1,  4}, { 4,  4}, { 3,  8}},
	{{ 2,  2}, { 6,  2}, { 4,  6}, { 7,  4}},
	{{ 4,  0}, { 8,  1}, { 8,  4}, {12,  4}},
	{{ 3,  1}, { 4,  5}, {11,  5}, {11,  5}},
	{{ 5,  1}, { 5,  5}, { 5,  7}, {11,  7}}, 
	{{ 5,  1}, { 7,  3}, {15,  2}, { 3, 13}},
	{{ 1,  5}, {10,  1}, { 1, 15}, { 2, 17}},
	{{ 5,  1}, { 9,  4}, {17,  1}, { 2, 19}},
	{{ 3,  4}, { 3, 11}, {17,  4}, { 9, 16}},
	{{ 3,  5}, { 3, 13}, {15,  5}, {15, 10}}, 
	{{ 4,  4}, {17,  0}, {17,  6}, {19,  6}},
	{{ 2,  7}, {17,  0}, { 7, 16}, {34,  0}},
	{{ 4,  5}, { 4, 14}, {11, 14}, {16, 14}},
	{{ 6,  4}, { 6, 14}, {11, 16}, {30,  2}},
	{{ 8,  4}, { 8, 13}, { 7, 22}, {22, 13}}, 
	{{10,  2}, {19,  4}, {28,  6}, {33,  4}},
	{{ 8,  4}, {22,  3}, { 8, 26}, {12, 28}},
	{{ 3, 10}, { 3, 23}, { 4, 31}, {11, 31}},
	{{ 7,  7}, {21,  7}, { 1, 37}, {19, 26}},
	{{ 5, 10}, {19, 10}, {15, 25}, {23, 25}}, 
	{{13,  3}, { 2, 29}, {42,  1}, {23, 28}},
	{{17,  0}, {10, 23}, {10, 35}, {19, 35}},
	{{17,  1}, {14, 21}, {29, 19}, {11, 46}},
	{{13,  6}, {14, 23}, {44,  7}, {59,  1}},
	{{12,  7}, {12, 26}, {39, 14}, {22, 41}}, 
	{{ 6, 14}, { 6, 34}, {46, 10}, { 2, 64}},
	{{17,  4}, {29, 14}, {49, 10}, {24, 46}},
	{{ 4, 18}, {13, 32}, {48, 14}, {42, 32}},
	{{20,  4}, {40,  7}, {43, 22}, {10, 67}},
	{{19,  6}, {18, 31}, {34, 34}, {20, 61}},
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Table of the error correction code (Reed-Solomon block) See Table 12-16 (pp.30-36), JIS X0510:2004. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="229" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="187" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="qrspec_8c_1a87d58e9b67f3f87633b7e298014aa254" prot="public" static="yes" mutable="no">
        <type>const int</type>
        <definition>const int alignmentPattern[QRSPEC_VERSION_MAX+1][2]</definition>
        <argsstring>[QRSPEC_VERSION_MAX+1][2]</argsstring>
        <name>alignmentPattern</name>
        <initializer>= {
	{ 0,  0},
	{ 0,  0}, {18,  0}, {22,  0}, {26,  0}, {30,  0}, 
	{34,  0}, {22, 38}, {24, 42}, {26, 46}, {28, 50}, 
	{30, 54}, {32, 58}, {34, 62}, {26, 46}, {26, 48}, 
	{26, 50}, {30, 54}, {30, 56}, {30, 58}, {34, 62}, 
	{28, 50}, {26, 50}, {30, 54}, {28, 54}, {32, 58}, 
	{30, 58}, {34, 62}, {26, 50}, {30, 54}, {26, 52}, 
	{30, 56}, {34, 60}, {30, 58}, {34, 62}, {30, 54}, 
	{24, 50}, {28, 54}, {32, 58}, {26, 54}, {30, 58}, 
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Positions of alignment patterns. This array includes only the second and the third position of the alignment patterns. Rest of them can be calculated from the distance between them.</para><para>See Table 1 in Appendix E (pp.71) of JIS X0510:2004. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="276" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="266" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="qrspec_8c_1a541f15b357fb5e4932d43f02c90bc5d3" prot="public" static="yes" mutable="no">
        <type>const unsigned int</type>
        <definition>const unsigned int versionPattern[QRSPEC_VERSION_MAX-6]</definition>
        <argsstring>[QRSPEC_VERSION_MAX-6]</argsstring>
        <name>versionPattern</name>
        <initializer>= {
	0x07c94, 0x085bc, 0x09a99, 0x0a4d3, 0x0bbf6, 0x0c762, 0x0d847, 0x0e60d,
	0x0f928, 0x10b78, 0x1145d, 0x12a17, 0x13532, 0x149a6, 0x15683, 0x168c9,
	0x177ec, 0x18ec4, 0x191e1, 0x1afab, 0x1b08e, 0x1cc1a, 0x1d33f, 0x1ed75,
	0x1f250, 0x209d5, 0x216f0, 0x228ba, 0x2379f, 0x24b0b, 0x2542e, 0x26a64,
	0x27541, 0x28c69
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Version information pattern (BCH coded). See Table 1 in Appendix D (pp.68) of JIS X0510:2004. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="360" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="354" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="qrspec_8c_1aa33835fc3104751dad98af984b8b4580" prot="public" static="yes" mutable="no">
        <type>const unsigned int</type>
        <definition>const unsigned int formatInfo[4][8]</definition>
        <argsstring>[4][8]</argsstring>
        <name>formatInfo</name>
        <initializer>= {
	{0x77c4, 0x72f3, 0x7daa, 0x789d, 0x662f, 0x6318, 0x6c41, 0x6976},
	{0x5412, 0x5125, 0x5e7c, 0x5b4b, 0x45f9, 0x40ce, 0x4f97, 0x4aa0},
	{0x355f, 0x3068, 0x3f31, 0x3a06, 0x24b4, 0x2183, 0x2eda, 0x2bed},
	{0x1689, 0x13be, 0x1ce7, 0x19d0, 0x0762, 0x0255, 0x0d0c, 0x083b}
}</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="379" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="374" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="qrspec_8c_1ac5832f09b8f6c167cb7e8c354cd7c1f6" prot="public" static="yes" mutable="no">
        <type>unsigned char *</type>
        <definition>unsigned char* frames[QRSPEC_VERSION_MAX+1]</definition>
        <argsstring>[QRSPEC_VERSION_MAX+1]</argsstring>
        <name>frames</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Cache of initial frames. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="397" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="397" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="qrspec_8c_1af591c0a0eef6b615e084f23106472118" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int QRspec_getDataLength</definition>
        <argsstring>(int version, QRecLevel level)</argsstring>
        <name>QRspec_getDataLength</name>
        <param>
          <type>int</type>
          <declname>version</declname>
        </param>
        <param>
          <type>QRecLevel</type>
          <declname>level</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return maximum data code length (bytes) for the version. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>version</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>level</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>maximum size (bytes) </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="96" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="95" bodyend="98"/>
      </memberdef>
      <memberdef kind="function" id="qrspec_8c_1a7569f948136d3be340191cf41d0c0640" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int QRspec_getECCLength</definition>
        <argsstring>(int version, QRecLevel level)</argsstring>
        <name>QRspec_getECCLength</name>
        <param>
          <type>int</type>
          <declname>version</declname>
        </param>
        <param>
          <type>QRecLevel</type>
          <declname>level</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return maximum error correction code length (bytes) for the version. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>version</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>level</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>ECC size (bytes) </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="101" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="100" bodyend="103"/>
      </memberdef>
      <memberdef kind="function" id="qrspec_8c_1a30fb68f39b78d55fe5c8f9e16c06b6c5" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int QRspec_getMinimumVersion</definition>
        <argsstring>(int size, QRecLevel level)</argsstring>
        <name>QRspec_getMinimumVersion</name>
        <param>
          <type>int</type>
          <declname>size</declname>
        </param>
        <param>
          <type>QRecLevel</type>
          <declname>level</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return a version number that satisfies the input code length. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>size</parametername>
</parameternamelist>
<parameterdescription>
<para>input code length (byte) </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>level</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>version number </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="106" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="105" bodyend="116"/>
      </memberdef>
      <memberdef kind="function" id="qrspec_8c_1a34995420f33a328ae65579ddfd07d63e" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int QRspec_getWidth</definition>
        <argsstring>(int version)</argsstring>
        <name>QRspec_getWidth</name>
        <param>
          <type>int</type>
          <declname>version</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return the width of the symbol for the version. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>version</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>width </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="119" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="118" bodyend="121"/>
      </memberdef>
      <memberdef kind="function" id="qrspec_8c_1a1f03ef681978616cdc0fefb6fb4fab04" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int QRspec_getRemainder</definition>
        <argsstring>(int version)</argsstring>
        <name>QRspec_getRemainder</name>
        <param>
          <type>int</type>
          <declname>version</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return the numer of remainder bits. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>version</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>number of remainder bits </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="124" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="123" bodyend="126"/>
      </memberdef>
      <memberdef kind="function" id="qrspec_8c_1aa9611cbe6556be98a4c0674af4712656" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int QRspec_lengthIndicator</definition>
        <argsstring>(QRencodeMode mode, int version)</argsstring>
        <name>QRspec_lengthIndicator</name>
        <param>
          <type>QRencodeMode</type>
          <declname>mode</declname>
        </param>
        <param>
          <type>int</type>
          <declname>version</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return the size of lenght indicator for the mode and version. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>mode</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>version</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>the size of the appropriate length indicator (bits). </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="140" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="139" bodyend="153"/>
      </memberdef>
      <memberdef kind="function" id="qrspec_8c_1a9f31bf16e8dd70a4bd2396171e3c14de" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int QRspec_maximumWords</definition>
        <argsstring>(QRencodeMode mode, int version)</argsstring>
        <name>QRspec_maximumWords</name>
        <param>
          <type>QRencodeMode</type>
          <declname>mode</declname>
        </param>
        <param>
          <type>int</type>
          <declname>version</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return the maximum length for the mode and version. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>mode</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>version</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>the maximum length (bytes) </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="156" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="155" bodyend="177"/>
      </memberdef>
      <memberdef kind="function" id="qrspec_8c_1ae58cce00fac7d6a6299da3b8e6bca005" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void QRspec_getEccSpec</definition>
        <argsstring>(int version, QRecLevel level, int spec[5])</argsstring>
        <name>QRspec_getEccSpec</name>
        <param>
          <type>int</type>
          <declname>version</declname>
        </param>
        <param>
          <type>QRecLevel</type>
          <declname>level</declname>
        </param>
        <param>
          <type>int</type>
          <declname>spec</declname>
          <array>[5]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return an array of ECC specification. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>version</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>level</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>spec</parametername>
</parameternamelist>
<parameterdescription>
<para>an array of ECC specification contains as following: {# of type1 blocks, # of data code, # of ecc code, <heading level="1">of type2 blocks, # of data code}</heading>
</para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="232" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="231" bodyend="253"/>
      </memberdef>
      <memberdef kind="function" id="qrspec_8c_1a0e193709e07e7e13eba0115dc24723e7" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void QRspec_putAlignmentMarker</definition>
        <argsstring>(unsigned char *frame, int width, int ox, int oy)</argsstring>
        <name>QRspec_putAlignmentMarker</name>
        <param>
          <type>unsigned char *</type>
          <declname>frame</declname>
        </param>
        <param>
          <type>int</type>
          <declname>width</declname>
        </param>
        <param>
          <type>int</type>
          <declname>ox</declname>
        </param>
        <param>
          <type>int</type>
          <declname>oy</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Put an alignment marker. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>frame</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>width</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ox</parametername>
<parametername>oy</parametername>
</parameternamelist>
<parameterdescription>
<para>center coordinate of the pattern </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="285" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="284" bodyend="305"/>
      </memberdef>
      <memberdef kind="function" id="qrspec_8c_1a6fd87cd1edd0d0ac2bfa4d63811a62f3" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void QRspec_putAlignmentPattern</definition>
        <argsstring>(int version, unsigned char *frame, int width)</argsstring>
        <name>QRspec_putAlignmentPattern</name>
        <param>
          <type>int</type>
          <declname>version</declname>
        </param>
        <param>
          <type>unsigned char *</type>
          <declname>frame</declname>
        </param>
        <param>
          <type>int</type>
          <declname>width</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="309" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="308" bodyend="344"/>
      </memberdef>
      <memberdef kind="function" id="qrspec_8c_1a44bd81da11fa7eca298855d09c353248" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned int</type>
        <definition>unsigned int QRspec_getVersionPattern</definition>
        <argsstring>(int version)</argsstring>
        <name>QRspec_getVersionPattern</name>
        <param>
          <type>int</type>
          <declname>version</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return BCH encoded version information pattern that is used for the symbol of version 7 or greater. Use lower 18 bits. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>version</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>BCH encoded version information pattern </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="363" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="362" bodyend="367"/>
      </memberdef>
      <memberdef kind="function" id="qrspec_8c_1aa6f506a291c45903fa015dc7249eac7d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned int</type>
        <definition>unsigned int QRspec_getFormatInfo</definition>
        <argsstring>(int mask, QRecLevel level)</argsstring>
        <name>QRspec_getFormatInfo</name>
        <param>
          <type>int</type>
          <declname>mask</declname>
        </param>
        <param>
          <type>QRecLevel</type>
          <declname>level</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return BCH encoded format information pattern. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>mask</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>level</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>BCH encoded format information pattern </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="382" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="381" bodyend="386"/>
      </memberdef>
      <memberdef kind="function" id="qrspec_8c_1a98c4f0fec1195e10909d8ce2bf714608" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>static void putFinderPattern</definition>
        <argsstring>(unsigned char *frame, int width, int ox, int oy)</argsstring>
        <name>putFinderPattern</name>
        <param>
          <type>unsigned char *</type>
          <declname>frame</declname>
        </param>
        <param>
          <type>int</type>
          <declname>width</declname>
        </param>
        <param>
          <type>int</type>
          <declname>ox</declname>
        </param>
        <param>
          <type>int</type>
          <declname>oy</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Put a finder pattern. <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>frame</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>width</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>ox</parametername>
<parametername>oy</parametername>
</parameternamelist>
<parameterdescription>
<para>upper-left coordinate of the pattern </para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="406" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="405" bodyend="428"/>
      </memberdef>
      <memberdef kind="function" id="qrspec_8c_1a4a657bfe853a77d138189bb88d70c435" prot="public" static="yes" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned char *</type>
        <definition>static unsigned char* QRspec_createFrame</definition>
        <argsstring>(int version)</argsstring>
        <name>QRspec_createFrame</name>
        <param>
          <type>int</type>
          <declname>version</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="432" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="431" bodyend="512"/>
      </memberdef>
      <memberdef kind="function" id="qrspec_8c_1a826fd999c8628c9a91ad2101887eab63" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned char *</type>
        <definition>unsigned char* QRspec_newFrame</definition>
        <argsstring>(int version)</argsstring>
        <name>QRspec_newFrame</name>
        <param>
          <type>int</type>
          <declname>version</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return a copy of initialized frame. When the same version is requested twice or more, a copy of cached frame is returned. WARNING: Thread unsafe!!! <parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>version</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>Array of unsigned char. You can free it by free(). </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="515" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="514" bodyend="532"/>
      </memberdef>
      <memberdef kind="function" id="qrspec_8c_1a7263ad69c5703a939b8af99ded16d6ae" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void QRspec_clearCache</definition>
        <argsstring>(void)</argsstring>
        <name>QRspec_clearCache</name>
        <param>
          <type>void</type>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Clear the frame cache. Typically for debug. WARNING: Thread unsafe!!! </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" line="535" bodyfile="/Users/dengkawakou/Desktop/AppJoin/qrspec.c" bodystart="534" bodyend="541"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>qrencode<sp/>-<sp/>QR<sp/>Code<sp/>encoder</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>QR<sp/>Code<sp/>specification<sp/>in<sp/>convenient<sp/>format.<sp/></highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>(C)<sp/>2006,<sp/>2007,<sp/>2008,<sp/>2009<sp/>Kentaro<sp/>Fukuchi<sp/>&lt;fukuchi@megaui.net&gt;</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*<sp/>The<sp/>following<sp/>data<sp/>/<sp/>specifications<sp/>are<sp/>taken<sp/>from</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>*<sp/>&quot;Two<sp/>dimensional<sp/>symbol<sp/>--<sp/>QR-code<sp/>--<sp/>Basic<sp/>Specification&quot;<sp/>(JIS<sp/>X0510:2004)</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>*<sp/><sp/>or</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>*<sp/>&quot;Automatic<sp/>identification<sp/>and<sp/>data<sp/>capture<sp/>techniques<sp/>--<sp/></highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>*<sp/><sp/>QR<sp/>Code<sp/>2005<sp/>bar<sp/>code<sp/>symbology<sp/>specification&quot;<sp/>(ISO/IEC<sp/>18004:2006)</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/>*<sp/>This<sp/>library<sp/>is<sp/>free<sp/>software;<sp/>you<sp/>can<sp/>redistribute<sp/>it<sp/>and/or</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>*<sp/>modify<sp/>it<sp/>under<sp/>the<sp/>terms<sp/>of<sp/>the<sp/>GNU<sp/>Lesser<sp/>General<sp/>Public</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>*<sp/>License<sp/>as<sp/>published<sp/>by<sp/>the<sp/>Free<sp/>Software<sp/>Foundation;<sp/>either</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>*<sp/>version<sp/>2.1<sp/>of<sp/>the<sp/>License,<sp/>or<sp/>any<sp/>later<sp/>version.</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>*<sp/>This<sp/>library<sp/>is<sp/>distributed<sp/>in<sp/>the<sp/>hope<sp/>that<sp/>it<sp/>will<sp/>be<sp/>useful,</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/>*<sp/>but<sp/>WITHOUT<sp/>ANY<sp/>WARRANTY;<sp/>without<sp/>even<sp/>the<sp/>implied<sp/>warranty<sp/>of</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/>*<sp/>MERCHANTABILITY<sp/>or<sp/>FITNESS<sp/>FOR<sp/>A<sp/>PARTICULAR<sp/>PURPOSE.<sp/>See<sp/>the<sp/>GNU</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/>*<sp/>Lesser<sp/>General<sp/>Public<sp/>License<sp/>for<sp/>more<sp/>details.</highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="23"><highlight class="comment"><sp/>*<sp/>You<sp/>should<sp/>have<sp/>received<sp/>a<sp/>copy<sp/>of<sp/>the<sp/>GNU<sp/>Lesser<sp/>General<sp/>Public</highlight></codeline>
<codeline lineno="24"><highlight class="comment"><sp/>*<sp/>License<sp/>along<sp/>with<sp/>this<sp/>library;<sp/>if<sp/>not,<sp/>write<sp/>to<sp/>the<sp/>Free<sp/>Software</highlight></codeline>
<codeline lineno="25"><highlight class="comment"><sp/>*<sp/>Foundation,<sp/>Inc.,<sp/>51<sp/>Franklin<sp/>St,<sp/>Fifth<sp/>Floor,<sp/>Boston,<sp/>MA<sp/>02110-1301<sp/>USA</highlight></codeline>
<codeline lineno="26"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdio.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdlib.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;errno.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="comment">//#include<sp/>&quot;config.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;qrspec.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="37"><highlight class="comment"><sp/>*<sp/>Version<sp/>and<sp/>capacity</highlight></codeline>
<codeline lineno="38"><highlight class="comment"><sp/>*****************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40" refid="struct_q_rspec___capacity" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width;<sp/></highlight><highlight class="comment">//&lt;<sp/>Edge<sp/>length<sp/>of<sp/>the<sp/>symbol</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>words;<sp/><sp/></highlight><highlight class="comment">//&lt;<sp/>Data<sp/>capacity<sp/>(bytes)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>remainder;<sp/></highlight><highlight class="comment">//&lt;<sp/>Remainder<sp/>bit<sp/>(bits)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ec[4];<sp/><sp/></highlight><highlight class="comment">//&lt;<sp/>Number<sp/>of<sp/>ECC<sp/>code<sp/>(bytes)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal">}<sp/><ref refid="struct_q_rspec___capacity" kindref="compound">QRspec_Capacity</ref>;</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="struct_q_rspec___capacity" kindref="compound">QRspec_Capacity</ref><sp/>qrspecCapacity[QRSPEC_VERSION_MAX<sp/>+<sp/>1]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/><sp/>0,<sp/><sp/><sp/><sp/>0,<sp/>0,<sp/>{<sp/><sp/><sp/>0,<sp/><sp/><sp/><sp/>0,<sp/><sp/><sp/><sp/>0,<sp/><sp/><sp/><sp/>0}},</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>21,<sp/><sp/><sp/>26,<sp/>0,<sp/>{<sp/><sp/><sp/>7,<sp/><sp/><sp/>10,<sp/><sp/><sp/>13,<sp/><sp/><sp/>17}},<sp/></highlight><highlight class="comment">//<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>25,<sp/><sp/><sp/>44,<sp/>7,<sp/>{<sp/><sp/>10,<sp/><sp/><sp/>16,<sp/><sp/><sp/>22,<sp/><sp/><sp/>28}},</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>29,<sp/><sp/><sp/>70,<sp/>7,<sp/>{<sp/><sp/>15,<sp/><sp/><sp/>26,<sp/><sp/><sp/>36,<sp/><sp/><sp/>44}},</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>33,<sp/><sp/>100,<sp/>7,<sp/>{<sp/><sp/>20,<sp/><sp/><sp/>36,<sp/><sp/><sp/>52,<sp/><sp/><sp/>64}},</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>37,<sp/><sp/>134,<sp/>7,<sp/>{<sp/><sp/>26,<sp/><sp/><sp/>48,<sp/><sp/><sp/>72,<sp/><sp/><sp/>88}},<sp/></highlight><highlight class="comment">//<sp/>5</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>41,<sp/><sp/>172,<sp/>7,<sp/>{<sp/><sp/>36,<sp/><sp/><sp/>64,<sp/><sp/><sp/>96,<sp/><sp/>112}},</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>45,<sp/><sp/>196,<sp/>0,<sp/>{<sp/><sp/>40,<sp/><sp/><sp/>72,<sp/><sp/>108,<sp/><sp/>130}},</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>49,<sp/><sp/>242,<sp/>0,<sp/>{<sp/><sp/>48,<sp/><sp/><sp/>88,<sp/><sp/>132,<sp/><sp/>156}},</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>53,<sp/><sp/>292,<sp/>0,<sp/>{<sp/><sp/>60,<sp/><sp/>110,<sp/><sp/>160,<sp/><sp/>192}},</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>57,<sp/><sp/>346,<sp/>0,<sp/>{<sp/><sp/>72,<sp/><sp/>130,<sp/><sp/>192,<sp/><sp/>224}},<sp/></highlight><highlight class="comment">//10</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>61,<sp/><sp/>404,<sp/>0,<sp/>{<sp/><sp/>80,<sp/><sp/>150,<sp/><sp/>224,<sp/><sp/>264}},</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>65,<sp/><sp/>466,<sp/>0,<sp/>{<sp/><sp/>96,<sp/><sp/>176,<sp/><sp/>260,<sp/><sp/>308}},</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>69,<sp/><sp/>532,<sp/>0,<sp/>{<sp/>104,<sp/><sp/>198,<sp/><sp/>288,<sp/><sp/>352}},</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>73,<sp/><sp/>581,<sp/>3,<sp/>{<sp/>120,<sp/><sp/>216,<sp/><sp/>320,<sp/><sp/>384}},</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>77,<sp/><sp/>655,<sp/>3,<sp/>{<sp/>132,<sp/><sp/>240,<sp/><sp/>360,<sp/><sp/>432}},<sp/></highlight><highlight class="comment">//15</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>81,<sp/><sp/>733,<sp/>3,<sp/>{<sp/>144,<sp/><sp/>280,<sp/><sp/>408,<sp/><sp/>480}},</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>85,<sp/><sp/>815,<sp/>3,<sp/>{<sp/>168,<sp/><sp/>308,<sp/><sp/>448,<sp/><sp/>532}},</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>89,<sp/><sp/>901,<sp/>3,<sp/>{<sp/>180,<sp/><sp/>338,<sp/><sp/>504,<sp/><sp/>588}},</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>93,<sp/><sp/>991,<sp/>3,<sp/>{<sp/>196,<sp/><sp/>364,<sp/><sp/>546,<sp/><sp/>650}},</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>97,<sp/>1085,<sp/>3,<sp/>{<sp/>224,<sp/><sp/>416,<sp/><sp/>600,<sp/><sp/>700}},<sp/></highlight><highlight class="comment">//20</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/>{101,<sp/>1156,<sp/>4,<sp/>{<sp/>224,<sp/><sp/>442,<sp/><sp/>644,<sp/><sp/>750}},</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/>{105,<sp/>1258,<sp/>4,<sp/>{<sp/>252,<sp/><sp/>476,<sp/><sp/>690,<sp/><sp/>816}},</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/>{109,<sp/>1364,<sp/>4,<sp/>{<sp/>270,<sp/><sp/>504,<sp/><sp/>750,<sp/><sp/>900}},</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/>{113,<sp/>1474,<sp/>4,<sp/>{<sp/>300,<sp/><sp/>560,<sp/><sp/>810,<sp/><sp/>960}},</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/>{117,<sp/>1588,<sp/>4,<sp/>{<sp/>312,<sp/><sp/>588,<sp/><sp/>870,<sp/>1050}},<sp/></highlight><highlight class="comment">//25</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/>{121,<sp/>1706,<sp/>4,<sp/>{<sp/>336,<sp/><sp/>644,<sp/><sp/>952,<sp/>1110}},</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/>{125,<sp/>1828,<sp/>4,<sp/>{<sp/>360,<sp/><sp/>700,<sp/>1020,<sp/>1200}},</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/>{129,<sp/>1921,<sp/>3,<sp/>{<sp/>390,<sp/><sp/>728,<sp/>1050,<sp/>1260}},</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/>{133,<sp/>2051,<sp/>3,<sp/>{<sp/>420,<sp/><sp/>784,<sp/>1140,<sp/>1350}},</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/>{137,<sp/>2185,<sp/>3,<sp/>{<sp/>450,<sp/><sp/>812,<sp/>1200,<sp/>1440}},<sp/></highlight><highlight class="comment">//30</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/>{141,<sp/>2323,<sp/>3,<sp/>{<sp/>480,<sp/><sp/>868,<sp/>1290,<sp/>1530}},</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/>{145,<sp/>2465,<sp/>3,<sp/>{<sp/>510,<sp/><sp/>924,<sp/>1350,<sp/>1620}},</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/>{149,<sp/>2611,<sp/>3,<sp/>{<sp/>540,<sp/><sp/>980,<sp/>1440,<sp/>1710}},</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/>{153,<sp/>2761,<sp/>3,<sp/>{<sp/>570,<sp/>1036,<sp/>1530,<sp/>1800}},</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/>{157,<sp/>2876,<sp/>0,<sp/>{<sp/>570,<sp/>1064,<sp/>1590,<sp/>1890}},<sp/></highlight><highlight class="comment">//35</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/>{161,<sp/>3034,<sp/>0,<sp/>{<sp/>600,<sp/>1120,<sp/>1680,<sp/>1980}},</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/>{165,<sp/>3196,<sp/>0,<sp/>{<sp/>630,<sp/>1204,<sp/>1770,<sp/>2100}},</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/>{169,<sp/>3362,<sp/>0,<sp/>{<sp/>660,<sp/>1260,<sp/>1860,<sp/>2220}},</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>{173,<sp/>3532,<sp/>0,<sp/>{<sp/>720,<sp/>1316,<sp/>1950,<sp/>2310}},</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/>{177,<sp/>3706,<sp/>0,<sp/>{<sp/>750,<sp/>1372,<sp/>2040,<sp/>2430}}<sp/></highlight><highlight class="comment">//40</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal">};</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>QRspec_getDataLength(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>version,<sp/>QRecLevel<sp/>level)</highlight></codeline>
<codeline lineno="96"><highlight class="normal">{</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>qrspecCapacity[version].words<sp/>-<sp/>qrspecCapacity[version].ec[level];</highlight></codeline>
<codeline lineno="98"><highlight class="normal">}</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>QRspec_getECCLength(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>version,<sp/>QRecLevel<sp/>level)</highlight></codeline>
<codeline lineno="101"><highlight class="normal">{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>qrspecCapacity[version].ec[level];</highlight></codeline>
<codeline lineno="103"><highlight class="normal">}</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>QRspec_getMinimumVersion(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>size,<sp/>QRecLevel<sp/>level)</highlight></codeline>
<codeline lineno="106"><highlight class="normal">{</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>words;</highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i=1;<sp/>i&lt;=<sp/>QRSPEC_VERSION_MAX;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>words<sp/><sp/>=<sp/>qrspecCapacity[i].words<sp/>-<sp/>qrspecCapacity[i].ec[level];</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(words<sp/>&gt;=<sp/>size)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="116"><highlight class="normal">}</highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>QRspec_getWidth(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>version)</highlight></codeline>
<codeline lineno="119"><highlight class="normal">{</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>qrspecCapacity[version].width;</highlight></codeline>
<codeline lineno="121"><highlight class="normal">}</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>QRspec_getRemainder(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>version)</highlight></codeline>
<codeline lineno="124"><highlight class="normal">{</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>qrspecCapacity[version].remainder;</highlight></codeline>
<codeline lineno="126"><highlight class="normal">}</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="129"><highlight class="comment"><sp/>*<sp/>Length<sp/>indicator</highlight></codeline>
<codeline lineno="130"><highlight class="comment"><sp/>*****************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>lengthTableBits[4][3]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/>{10,<sp/>12,<sp/>14},</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>9,<sp/>11,<sp/>13},</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>8,<sp/>16,<sp/>16},</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>8,<sp/>10,<sp/>12}</highlight></codeline>
<codeline lineno="137"><highlight class="normal">};</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>QRspec_lengthIndicator(QRencodeMode<sp/>mode,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>version)</highlight></codeline>
<codeline lineno="140"><highlight class="normal">{</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>l;</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(mode<sp/>==<sp/>QR_MODE_STRUCTURE)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(version<sp/>&lt;=<sp/>9)<sp/>{</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>l<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(version<sp/>&lt;=<sp/>26)<sp/>{</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>l<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>l<sp/>=<sp/>2;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>lengthTableBits[mode][l];</highlight></codeline>
<codeline lineno="153"><highlight class="normal">}</highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>QRspec_maximumWords(QRencodeMode<sp/>mode,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>version)</highlight></codeline>
<codeline lineno="156"><highlight class="normal">{</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>l;</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bits;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>words;</highlight></codeline>
<codeline lineno="160"><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(mode<sp/>==<sp/>QR_MODE_STRUCTURE)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>3;</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(version<sp/>&lt;=<sp/>9)<sp/>{</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>l<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(version<sp/>&lt;=<sp/>26)<sp/>{</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>l<sp/>=<sp/>1;</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>l<sp/>=<sp/>2;</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/>bits<sp/>=<sp/>lengthTableBits[mode][l];</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>words<sp/>=<sp/>(1<sp/>&lt;&lt;<sp/>bits)<sp/>-<sp/>1;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(mode<sp/>==<sp/>QR_MODE_KANJI)<sp/>{</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>words<sp/>*=<sp/>2;<sp/></highlight><highlight class="comment">//<sp/>the<sp/>number<sp/>of<sp/>bytes<sp/>is<sp/>required</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="175"><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>words;</highlight></codeline>
<codeline lineno="177"><highlight class="normal">}</highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="180"><highlight class="comment"><sp/>*<sp/>Error<sp/>correction<sp/>code</highlight></codeline>
<codeline lineno="181"><highlight class="comment"><sp/>*****************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>eccTable[QRSPEC_VERSION_MAX+1][4][2]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>0,<sp/><sp/>0},<sp/>{<sp/>0,<sp/><sp/>0},<sp/>{<sp/>0,<sp/><sp/>0},<sp/>{<sp/>0,<sp/><sp/>0}},</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>1,<sp/><sp/>0},<sp/>{<sp/>1,<sp/><sp/>0},<sp/>{<sp/>1,<sp/><sp/>0},<sp/>{<sp/>1,<sp/><sp/>0}},<sp/></highlight><highlight class="comment">//<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>1,<sp/><sp/>0},<sp/>{<sp/>1,<sp/><sp/>0},<sp/>{<sp/>1,<sp/><sp/>0},<sp/>{<sp/>1,<sp/><sp/>0}},</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>1,<sp/><sp/>0},<sp/>{<sp/>1,<sp/><sp/>0},<sp/>{<sp/>2,<sp/><sp/>0},<sp/>{<sp/>2,<sp/><sp/>0}},</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>1,<sp/><sp/>0},<sp/>{<sp/>2,<sp/><sp/>0},<sp/>{<sp/>2,<sp/><sp/>0},<sp/>{<sp/>4,<sp/><sp/>0}},</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>1,<sp/><sp/>0},<sp/>{<sp/>2,<sp/><sp/>0},<sp/>{<sp/>2,<sp/><sp/>2},<sp/>{<sp/>2,<sp/><sp/>2}},<sp/></highlight><highlight class="comment">//<sp/>5</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>2,<sp/><sp/>0},<sp/>{<sp/>4,<sp/><sp/>0},<sp/>{<sp/>4,<sp/><sp/>0},<sp/>{<sp/>4,<sp/><sp/>0}},</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>2,<sp/><sp/>0},<sp/>{<sp/>4,<sp/><sp/>0},<sp/>{<sp/>2,<sp/><sp/>4},<sp/>{<sp/>4,<sp/><sp/>1}},</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>2,<sp/><sp/>0},<sp/>{<sp/>2,<sp/><sp/>2},<sp/>{<sp/>4,<sp/><sp/>2},<sp/>{<sp/>4,<sp/><sp/>2}},</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>2,<sp/><sp/>0},<sp/>{<sp/>3,<sp/><sp/>2},<sp/>{<sp/>4,<sp/><sp/>4},<sp/>{<sp/>4,<sp/><sp/>4}},</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>2,<sp/><sp/>2},<sp/>{<sp/>4,<sp/><sp/>1},<sp/>{<sp/>6,<sp/><sp/>2},<sp/>{<sp/>6,<sp/><sp/>2}},<sp/></highlight><highlight class="comment">//10</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>4,<sp/><sp/>0},<sp/>{<sp/>1,<sp/><sp/>4},<sp/>{<sp/>4,<sp/><sp/>4},<sp/>{<sp/>3,<sp/><sp/>8}},</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>2,<sp/><sp/>2},<sp/>{<sp/>6,<sp/><sp/>2},<sp/>{<sp/>4,<sp/><sp/>6},<sp/>{<sp/>7,<sp/><sp/>4}},</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>4,<sp/><sp/>0},<sp/>{<sp/>8,<sp/><sp/>1},<sp/>{<sp/>8,<sp/><sp/>4},<sp/>{12,<sp/><sp/>4}},</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>3,<sp/><sp/>1},<sp/>{<sp/>4,<sp/><sp/>5},<sp/>{11,<sp/><sp/>5},<sp/>{11,<sp/><sp/>5}},</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>5,<sp/><sp/>1},<sp/>{<sp/>5,<sp/><sp/>5},<sp/>{<sp/>5,<sp/><sp/>7},<sp/>{11,<sp/><sp/>7}},<sp/></highlight><highlight class="comment">//15</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>5,<sp/><sp/>1},<sp/>{<sp/>7,<sp/><sp/>3},<sp/>{15,<sp/><sp/>2},<sp/>{<sp/>3,<sp/>13}},</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>1,<sp/><sp/>5},<sp/>{10,<sp/><sp/>1},<sp/>{<sp/>1,<sp/>15},<sp/>{<sp/>2,<sp/>17}},</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>5,<sp/><sp/>1},<sp/>{<sp/>9,<sp/><sp/>4},<sp/>{17,<sp/><sp/>1},<sp/>{<sp/>2,<sp/>19}},</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>3,<sp/><sp/>4},<sp/>{<sp/>3,<sp/>11},<sp/>{17,<sp/><sp/>4},<sp/>{<sp/>9,<sp/>16}},</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>3,<sp/><sp/>5},<sp/>{<sp/>3,<sp/>13},<sp/>{15,<sp/><sp/>5},<sp/>{15,<sp/>10}},<sp/></highlight><highlight class="comment">//20</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>4,<sp/><sp/>4},<sp/>{17,<sp/><sp/>0},<sp/>{17,<sp/><sp/>6},<sp/>{19,<sp/><sp/>6}},</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>2,<sp/><sp/>7},<sp/>{17,<sp/><sp/>0},<sp/>{<sp/>7,<sp/>16},<sp/>{34,<sp/><sp/>0}},</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>4,<sp/><sp/>5},<sp/>{<sp/>4,<sp/>14},<sp/>{11,<sp/>14},<sp/>{16,<sp/>14}},</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>6,<sp/><sp/>4},<sp/>{<sp/>6,<sp/>14},<sp/>{11,<sp/>16},<sp/>{30,<sp/><sp/>2}},</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>8,<sp/><sp/>4},<sp/>{<sp/>8,<sp/>13},<sp/>{<sp/>7,<sp/>22},<sp/>{22,<sp/>13}},<sp/></highlight><highlight class="comment">//25</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/>{{10,<sp/><sp/>2},<sp/>{19,<sp/><sp/>4},<sp/>{28,<sp/><sp/>6},<sp/>{33,<sp/><sp/>4}},</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>8,<sp/><sp/>4},<sp/>{22,<sp/><sp/>3},<sp/>{<sp/>8,<sp/>26},<sp/>{12,<sp/>28}},</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>3,<sp/>10},<sp/>{<sp/>3,<sp/>23},<sp/>{<sp/>4,<sp/>31},<sp/>{11,<sp/>31}},</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>7,<sp/><sp/>7},<sp/>{21,<sp/><sp/>7},<sp/>{<sp/>1,<sp/>37},<sp/>{19,<sp/>26}},</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>5,<sp/>10},<sp/>{19,<sp/>10},<sp/>{15,<sp/>25},<sp/>{23,<sp/>25}},<sp/></highlight><highlight class="comment">//30</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/>{{13,<sp/><sp/>3},<sp/>{<sp/>2,<sp/>29},<sp/>{42,<sp/><sp/>1},<sp/>{23,<sp/>28}},</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>{{17,<sp/><sp/>0},<sp/>{10,<sp/>23},<sp/>{10,<sp/>35},<sp/>{19,<sp/>35}},</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/>{{17,<sp/><sp/>1},<sp/>{14,<sp/>21},<sp/>{29,<sp/>19},<sp/>{11,<sp/>46}},</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/>{{13,<sp/><sp/>6},<sp/>{14,<sp/>23},<sp/>{44,<sp/><sp/>7},<sp/>{59,<sp/><sp/>1}},</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/>{{12,<sp/><sp/>7},<sp/>{12,<sp/>26},<sp/>{39,<sp/>14},<sp/>{22,<sp/>41}},<sp/></highlight><highlight class="comment">//35</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>6,<sp/>14},<sp/>{<sp/>6,<sp/>34},<sp/>{46,<sp/>10},<sp/>{<sp/>2,<sp/>64}},</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/>{{17,<sp/><sp/>4},<sp/>{29,<sp/>14},<sp/>{49,<sp/>10},<sp/>{24,<sp/>46}},</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/>{{<sp/>4,<sp/>18},<sp/>{13,<sp/>32},<sp/>{48,<sp/>14},<sp/>{42,<sp/>32}},</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/>{{20,<sp/><sp/>4},<sp/>{40,<sp/><sp/>7},<sp/>{43,<sp/>22},<sp/>{10,<sp/>67}},</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/>{{19,<sp/><sp/>6},<sp/>{18,<sp/>31},<sp/>{34,<sp/>34},<sp/>{20,<sp/>61}},</highlight><highlight class="comment">//40</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal">};</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>QRspec_getEccSpec(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>version,<sp/>QRecLevel<sp/>level,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>spec[5])</highlight></codeline>
<codeline lineno="232"><highlight class="normal">{</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>b1,<sp/>b2;</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>data,<sp/>ecc;</highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/>b1<sp/>=<sp/>eccTable[version][level][0];</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/>b2<sp/>=<sp/>eccTable[version][level][1];</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/>data<sp/>=<sp/>QRspec_getDataLength(version,<sp/>level);</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/>ecc<sp/><sp/>=<sp/>QRspec_getECCLength(version,<sp/>level);</highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(b2<sp/>==<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spec[0]<sp/>=<sp/>b1;</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spec[1]<sp/>=<sp/>data<sp/>/<sp/>b1;</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spec[2]<sp/>=<sp/>ecc<sp/>/<sp/>b1;</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spec[3]<sp/>=<sp/>spec[4]<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spec[0]<sp/>=<sp/>b1;</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spec[1]<sp/>=<sp/>data<sp/>/<sp/>(b1<sp/>+<sp/>b2);</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spec[2]<sp/>=<sp/>ecc<sp/><sp/>/<sp/>(b1<sp/>+<sp/>b2);</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spec[3]<sp/>=<sp/>b2;</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>spec[4]<sp/>=<sp/>spec[1]<sp/>+<sp/>1;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="253"><highlight class="normal">}</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="256"><highlight class="comment"><sp/>*<sp/>Alignment<sp/>pattern</highlight></codeline>
<codeline lineno="257"><highlight class="comment"><sp/>*****************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>alignmentPattern[QRSPEC_VERSION_MAX+1][2]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0,<sp/><sp/>0},</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/>0,<sp/><sp/>0},<sp/>{18,<sp/><sp/>0},<sp/>{22,<sp/><sp/>0},<sp/>{26,<sp/><sp/>0},<sp/>{30,<sp/><sp/>0},<sp/></highlight><highlight class="comment">//<sp/>1-<sp/>5</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/>{34,<sp/><sp/>0},<sp/>{22,<sp/>38},<sp/>{24,<sp/>42},<sp/>{26,<sp/>46},<sp/>{28,<sp/>50},<sp/></highlight><highlight class="comment">//<sp/>6-10</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/>{30,<sp/>54},<sp/>{32,<sp/>58},<sp/>{34,<sp/>62},<sp/>{26,<sp/>46},<sp/>{26,<sp/>48},<sp/></highlight><highlight class="comment">//11-15</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/>{26,<sp/>50},<sp/>{30,<sp/>54},<sp/>{30,<sp/>56},<sp/>{30,<sp/>58},<sp/>{34,<sp/>62},<sp/></highlight><highlight class="comment">//16-20</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/>{28,<sp/>50},<sp/>{26,<sp/>50},<sp/>{30,<sp/>54},<sp/>{28,<sp/>54},<sp/>{32,<sp/>58},<sp/></highlight><highlight class="comment">//21-25</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/>{30,<sp/>58},<sp/>{34,<sp/>62},<sp/>{26,<sp/>50},<sp/>{30,<sp/>54},<sp/>{26,<sp/>52},<sp/></highlight><highlight class="comment">//26-30</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/>{30,<sp/>56},<sp/>{34,<sp/>60},<sp/>{30,<sp/>58},<sp/>{34,<sp/>62},<sp/>{30,<sp/>54},<sp/></highlight><highlight class="comment">//31-35</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/>{24,<sp/>50},<sp/>{28,<sp/>54},<sp/>{32,<sp/>58},<sp/>{26,<sp/>54},<sp/>{30,<sp/>58},<sp/></highlight><highlight class="comment">//35-40</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="276"><highlight class="normal">};</highlight></codeline>
<codeline lineno="277"><highlight class="normal"></highlight></codeline>
<codeline lineno="284"><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>QRspec_putAlignmentMarker(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*frame,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ox,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>oy)</highlight></codeline>
<codeline lineno="285"><highlight class="normal">{</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>finder[]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xa1,<sp/>0xa1,<sp/>0xa1,<sp/>0xa1,<sp/>0xa1,</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xa1,<sp/>0xa0,<sp/>0xa0,<sp/>0xa0,<sp/>0xa1,</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xa1,<sp/>0xa0,<sp/>0xa1,<sp/>0xa0,<sp/>0xa1,</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xa1,<sp/>0xa0,<sp/>0xa0,<sp/>0xa0,<sp/>0xa1,</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xa1,<sp/>0xa1,<sp/>0xa1,<sp/>0xa1,<sp/>0xa1,</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x,<sp/>y;</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*s;</highlight></codeline>
<codeline lineno="295"><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/>frame<sp/>+=<sp/>(oy<sp/>-<sp/>2)<sp/>*<sp/>width<sp/>+<sp/>ox<sp/>-<sp/>2;</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>s<sp/>=<sp/>finder;</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(y=0;<sp/>y&lt;5;<sp/>y++)<sp/>{</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(x=0;<sp/>x&lt;5;<sp/>x++)<sp/>{</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>frame[x]<sp/>=<sp/>s[x];</highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>frame<sp/>+=<sp/>width;</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s<sp/>+=<sp/>5;</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="305"><highlight class="normal">}</highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight><highlight class="comment">//__STATIC</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="308"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>QRspec_putAlignmentPattern(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>version,<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*frame,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width)</highlight></codeline>
<codeline lineno="309"><highlight class="normal">{</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>d,<sp/>w,<sp/>x,<sp/>y,<sp/>cx,<sp/>cy;</highlight></codeline>
<codeline lineno="311"><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(version<sp/>&lt;<sp/>2)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="313"><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/>d<sp/>=<sp/>alignmentPattern[version][1]<sp/>-<sp/>alignmentPattern[version][0];</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(d<sp/>&lt;<sp/>0)<sp/>{</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w<sp/>=<sp/>2;</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>w<sp/>=<sp/>(width<sp/>-<sp/>alignmentPattern[version][0])<sp/>/<sp/>d<sp/>+<sp/>2;</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="320"><highlight class="normal"></highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(w<sp/>*<sp/>w<sp/>-<sp/>3<sp/>==<sp/>1)<sp/>{</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>x<sp/>=<sp/>alignmentPattern[version][0];</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>y<sp/>=<sp/>alignmentPattern[version][0];</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRspec_putAlignmentMarker(frame,<sp/>width,<sp/>x,<sp/>y);</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/>cx<sp/>=<sp/>alignmentPattern[version][0];</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(x=1;<sp/>x&lt;w<sp/>-<sp/>1;<sp/>x++)<sp/>{</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRspec_putAlignmentMarker(frame,<sp/>width,<sp/><sp/>6,<sp/>cx);</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRspec_putAlignmentMarker(frame,<sp/>width,<sp/>cx,<sp/><sp/>6);</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cx<sp/>+=<sp/>d;</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="334"><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/>cy<sp/>=<sp/>alignmentPattern[version][0];</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(y=0;<sp/>y&lt;w-1;<sp/>y++)<sp/>{</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cx<sp/>=<sp/>alignmentPattern[version][0];</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(x=0;<sp/>x&lt;w-1;<sp/>x++)<sp/>{</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>QRspec_putAlignmentMarker(frame,<sp/>width,<sp/>cx,<sp/>cy);</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cx<sp/>+=<sp/>d;</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cy<sp/>+=<sp/>d;</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="344"><highlight class="normal">}</highlight></codeline>
<codeline lineno="345"><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="347"><highlight class="comment"><sp/>*<sp/>Version<sp/>information<sp/>pattern</highlight></codeline>
<codeline lineno="348"><highlight class="comment"><sp/>*****************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="349"><highlight class="normal"></highlight></codeline>
<codeline lineno="354"><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>versionPattern[QRSPEC_VERSION_MAX<sp/>-<sp/>6]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/>0x07c94,<sp/>0x085bc,<sp/>0x09a99,<sp/>0x0a4d3,<sp/>0x0bbf6,<sp/>0x0c762,<sp/>0x0d847,<sp/>0x0e60d,</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/>0x0f928,<sp/>0x10b78,<sp/>0x1145d,<sp/>0x12a17,<sp/>0x13532,<sp/>0x149a6,<sp/>0x15683,<sp/>0x168c9,</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/>0x177ec,<sp/>0x18ec4,<sp/>0x191e1,<sp/>0x1afab,<sp/>0x1b08e,<sp/>0x1cc1a,<sp/>0x1d33f,<sp/>0x1ed75,</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/>0x1f250,<sp/>0x209d5,<sp/>0x216f0,<sp/>0x228ba,<sp/>0x2379f,<sp/>0x24b0b,<sp/>0x2542e,<sp/>0x26a64,</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/>0x27541,<sp/>0x28c69</highlight></codeline>
<codeline lineno="360"><highlight class="normal">};</highlight></codeline>
<codeline lineno="361"><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>QRspec_getVersionPattern(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>version)</highlight></codeline>
<codeline lineno="363"><highlight class="normal">{</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(version<sp/>&lt;<sp/>7<sp/>||<sp/>version<sp/>&gt;<sp/>QRSPEC_VERSION_MAX)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="365"><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>versionPattern[version<sp/>-7];</highlight></codeline>
<codeline lineno="367"><highlight class="normal">}</highlight></codeline>
<codeline lineno="368"><highlight class="normal"></highlight></codeline>
<codeline lineno="369"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="370"><highlight class="comment"><sp/>*<sp/>Format<sp/>information</highlight></codeline>
<codeline lineno="371"><highlight class="comment"><sp/>*****************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="372"><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight><highlight class="comment">/*<sp/>See<sp/>calcFormatInfo<sp/>in<sp/>tests/test_qrspec.c<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>formatInfo[4][8]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x77c4,<sp/>0x72f3,<sp/>0x7daa,<sp/>0x789d,<sp/>0x662f,<sp/>0x6318,<sp/>0x6c41,<sp/>0x6976},</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x5412,<sp/>0x5125,<sp/>0x5e7c,<sp/>0x5b4b,<sp/>0x45f9,<sp/>0x40ce,<sp/>0x4f97,<sp/>0x4aa0},</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x355f,<sp/>0x3068,<sp/>0x3f31,<sp/>0x3a06,<sp/>0x24b4,<sp/>0x2183,<sp/>0x2eda,<sp/>0x2bed},</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/>{0x1689,<sp/>0x13be,<sp/>0x1ce7,<sp/>0x19d0,<sp/>0x0762,<sp/>0x0255,<sp/>0x0d0c,<sp/>0x083b}</highlight></codeline>
<codeline lineno="379"><highlight class="normal">};</highlight></codeline>
<codeline lineno="380"><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>QRspec_getFormatInfo(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>mask,<sp/>QRecLevel<sp/>level)</highlight></codeline>
<codeline lineno="382"><highlight class="normal">{</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(mask<sp/>&lt;<sp/>0<sp/>||<sp/>mask<sp/>&gt;<sp/>7)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline lineno="384"><highlight class="normal"></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>formatInfo[level][mask];</highlight></codeline>
<codeline lineno="386"><highlight class="normal">}</highlight></codeline>
<codeline lineno="387"><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight><highlight class="comment">/******************************************************************************</highlight></codeline>
<codeline lineno="389"><highlight class="comment"><sp/>*<sp/>Frame</highlight></codeline>
<codeline lineno="390"><highlight class="comment"><sp/>*****************************************************************************/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="391"><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="comment">/*<sp/>C99<sp/>says<sp/>that<sp/>static<sp/>storage<sp/>shall<sp/>be<sp/>initialized<sp/>to<sp/>a<sp/>null<sp/>pointer</highlight></codeline>
<codeline lineno="396"><highlight class="comment"><sp/>*<sp/>by<sp/>compiler.<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*frames[QRSPEC_VERSION_MAX<sp/>+<sp/>1];</highlight></codeline>
<codeline lineno="398"><highlight class="normal"></highlight></codeline>
<codeline lineno="405"><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>putFinderPattern(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*frame,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ox,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>oy)</highlight></codeline>
<codeline lineno="406"><highlight class="normal">{</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>finder[]<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xc1,<sp/>0xc1,<sp/>0xc1,<sp/>0xc1,<sp/>0xc1,<sp/>0xc1,<sp/>0xc1,</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xc1,<sp/>0xc0,<sp/>0xc0,<sp/>0xc0,<sp/>0xc0,<sp/>0xc0,<sp/>0xc1,</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xc1,<sp/>0xc0,<sp/>0xc1,<sp/>0xc1,<sp/>0xc1,<sp/>0xc0,<sp/>0xc1,</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xc1,<sp/>0xc0,<sp/>0xc1,<sp/>0xc1,<sp/>0xc1,<sp/>0xc0,<sp/>0xc1,</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xc1,<sp/>0xc0,<sp/>0xc1,<sp/>0xc1,<sp/>0xc1,<sp/>0xc0,<sp/>0xc1,</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xc1,<sp/>0xc0,<sp/>0xc0,<sp/>0xc0,<sp/>0xc0,<sp/>0xc0,<sp/>0xc1,</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0xc1,<sp/>0xc1,<sp/>0xc1,<sp/>0xc1,<sp/>0xc1,<sp/>0xc1,<sp/>0xc1,</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x,<sp/>y;</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*s;</highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/>frame<sp/>+=<sp/>oy<sp/>*<sp/>width<sp/>+<sp/>ox;</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/>s<sp/>=<sp/>finder;</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(y=0;<sp/>y&lt;7;<sp/>y++)<sp/>{</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(x=0;<sp/>x&lt;7;<sp/>x++)<sp/>{</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>frame[x]<sp/>=<sp/>s[x];</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>frame<sp/>+=<sp/>width;</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>s<sp/>+=<sp/>7;</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="428"><highlight class="normal">}</highlight></codeline>
<codeline lineno="429"><highlight class="normal"></highlight></codeline>
<codeline lineno="430"><highlight class="normal"></highlight></codeline>
<codeline lineno="431"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*QRspec_createFrame(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>version)</highlight></codeline>
<codeline lineno="432"><highlight class="normal">{</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*frame,<sp/>*p,<sp/>*q;</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width;</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>x,<sp/>y;</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>verinfo,<sp/>v;</highlight></codeline>
<codeline lineno="437"><highlight class="normal"></highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/>width<sp/>=<sp/>qrspecCapacity[version].width;</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/>frame<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)malloc(width<sp/>*<sp/>width);</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(frame<sp/>==<sp/>NULL)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="441"><highlight class="normal"></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(frame,<sp/>0,<sp/>width<sp/>*<sp/>width);</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Finder<sp/>pattern<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/>putFinderPattern(frame,<sp/>width,<sp/>0,<sp/>0);</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/>putFinderPattern(frame,<sp/>width,<sp/>width<sp/>-<sp/>7,<sp/>0);</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/>putFinderPattern(frame,<sp/>width,<sp/>0,<sp/>width<sp/>-<sp/>7);</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Separator<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/>p<sp/>=<sp/>frame;</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/>q<sp/>=<sp/>frame<sp/>+<sp/>width<sp/>*<sp/>(width<sp/>-<sp/>7);</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(y=0;<sp/>y&lt;7;<sp/>y++)<sp/>{</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p[7]<sp/>=<sp/>0xc0;</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p[width<sp/>-<sp/>8]<sp/>=<sp/>0xc0;</highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q[7]<sp/>=<sp/>0xc0;</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>+=<sp/>width;</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q<sp/>+=<sp/>width;</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(frame<sp/>+<sp/>width<sp/>*<sp/>7,<sp/>0xc0,<sp/>8);</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(frame<sp/>+<sp/>width<sp/>*<sp/>8<sp/>-<sp/>8,<sp/>0xc0,<sp/>8);</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(frame<sp/>+<sp/>width<sp/>*<sp/>(width<sp/>-<sp/>8),<sp/>0xc0,<sp/>8);</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Mask<sp/>format<sp/>information<sp/>area<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(frame<sp/>+<sp/>width<sp/>*<sp/>8,<sp/>0x84,<sp/>9);</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/>memset(frame<sp/>+<sp/>width<sp/>*<sp/>9<sp/>-<sp/>8,<sp/>0x84,<sp/>8);</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/>p<sp/>=<sp/>frame<sp/>+<sp/>8;</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(y=0;<sp/>y&lt;8;<sp/>y++)<sp/>{</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*p<sp/>=<sp/>0x84;</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>+=<sp/>width;</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/>p<sp/>=<sp/>frame<sp/>+<sp/>width<sp/>*<sp/>(width<sp/>-<sp/>7)<sp/>+<sp/>8;</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(y=0;<sp/>y&lt;7;<sp/>y++)<sp/>{</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*p<sp/>=<sp/>0x84;</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>+=<sp/>width;</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Timing<sp/>pattern<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/>p<sp/>=<sp/>frame<sp/>+<sp/>width<sp/>*<sp/>6<sp/>+<sp/>8;</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/>q<sp/>=<sp/>frame<sp/>+<sp/>width<sp/>*<sp/>8<sp/>+<sp/>6;</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(x=1;<sp/>x&lt;width-15;<sp/>x++)<sp/>{</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*p<sp/>=<sp/><sp/>0x90<sp/>|<sp/>(x<sp/>&amp;<sp/>1);</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*q<sp/>=<sp/><sp/>0x90<sp/>|<sp/>(x<sp/>&amp;<sp/>1);</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p++;</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>q<sp/>+=<sp/>width;</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Alignment<sp/>pattern<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/>QRspec_putAlignmentPattern(version,<sp/>frame,<sp/>width);</highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Version<sp/>information<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(version<sp/>&gt;=<sp/>7)<sp/>{</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>verinfo<sp/>=<sp/>QRspec_getVersionPattern(version);</highlight></codeline>
<codeline lineno="488"><highlight class="normal"></highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/>frame<sp/>+<sp/>width<sp/>*<sp/>(width<sp/>-<sp/>11);</highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v<sp/>=<sp/>verinfo;</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(x=0;<sp/>x&lt;6;<sp/>x++)<sp/>{</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(y=0;<sp/>y&lt;3;<sp/>y++)<sp/>{</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p[width<sp/>*<sp/>y<sp/>+<sp/>x]<sp/>=<sp/>0x88<sp/>|<sp/>(v<sp/>&amp;<sp/>1);</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v<sp/>=<sp/>v<sp/>&gt;&gt;<sp/>1;</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="497"><highlight class="normal"></highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>=<sp/>frame<sp/>+<sp/>width<sp/>-<sp/>11;</highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v<sp/>=<sp/>verinfo;</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(y=0;<sp/>y&lt;6;<sp/>y++)<sp/>{</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(x=0;<sp/>x&lt;3;<sp/>x++)<sp/>{</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p[x]<sp/>=<sp/>0x88<sp/>|<sp/>(v<sp/>&amp;<sp/>1);</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v<sp/>=<sp/>v<sp/>&gt;&gt;<sp/>1;</highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p<sp/>+=<sp/>width;</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="508"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>and<sp/>a<sp/>little<sp/>bit...<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/>frame[width<sp/>*<sp/>(width<sp/>-<sp/>8)<sp/>+<sp/>8]<sp/>=<sp/>0x81;</highlight></codeline>
<codeline lineno="510"><highlight class="normal"></highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>frame;</highlight></codeline>
<codeline lineno="512"><highlight class="normal">}</highlight></codeline>
<codeline lineno="513"><highlight class="normal"></highlight></codeline>
<codeline lineno="514"><highlight class="normal"></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*QRspec_newFrame(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>version)</highlight></codeline>
<codeline lineno="515"><highlight class="normal">{</highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*frame;</highlight></codeline>
<codeline lineno="517"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>width;</highlight></codeline>
<codeline lineno="518"><highlight class="normal"></highlight></codeline>
<codeline lineno="519"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(version<sp/>&lt;<sp/>1<sp/>||<sp/>version<sp/>&gt;<sp/>QRSPEC_VERSION_MAX)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="520"><highlight class="normal"></highlight></codeline>
<codeline lineno="521"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(frames[version]<sp/>==<sp/>NULL)<sp/>{</highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>frames[version]<sp/>=<sp/>QRspec_createFrame(version);</highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(frames[version]<sp/>==<sp/>NULL)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="525"><highlight class="normal"></highlight></codeline>
<codeline lineno="526"><highlight class="normal"><sp/><sp/><sp/><sp/>width<sp/>=<sp/>qrspecCapacity[version].width;</highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/>frame<sp/>=<sp/>(</highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)malloc(width<sp/>*<sp/>width);</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(frame<sp/>==<sp/>NULL)<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/>memcpy(frame,<sp/>frames[version],<sp/>width<sp/>*<sp/>width);</highlight></codeline>
<codeline lineno="530"><highlight class="normal"></highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>frame;</highlight></codeline>
<codeline lineno="532"><highlight class="normal">}</highlight></codeline>
<codeline lineno="533"><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>QRspec_clearCache(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="535"><highlight class="normal">{</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i;</highlight></codeline>
<codeline lineno="537"><highlight class="normal"></highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(i=1;<sp/>i&lt;=QRSPEC_VERSION_MAX;<sp/>i++)<sp/>{</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>free(frames[i]);</highlight></codeline>
<codeline lineno="540"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="541"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/Users/dengkawakou/Desktop/AppJoin/qrspec.c"/>
  </compounddef>
</doxygen>
